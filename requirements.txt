# RunPod SDK
runpod==1.7.13

# PyTorch stack (2.2.0 stable)
torch==2.2.0
torchvision==0.17.0
torchaudio==2.2.0

# Core Diffusion stack (latest AnimateDiff, MotionAdapter, IP-Adapter support)
diffusers @ git+https://github.com/huggingface/diffusers.git
transformers==4.40.2
accelerate==0.27.2
safetensors==0.4.2
huggingface_hub>=0.22.2 # Critical fix: Must be >=0.22.2 for diffusers@main

# Utility & image processing
Pillow==10.2.0
opencv-python-headless==4.9.0.80
requests==2.31.0
numpy==1.26.4
matplotlib==3.8.3

# ControlNet utilities
controlnet-aux==0.0.6

# Flask server for health check
flask==3.0.3

# Memory/perf
xformers==0.0.25.post1

# IP-Adapter (from source, as it requires specific build setup)
git+https://github.com/tencent-ailab/IP-Adapter.git
